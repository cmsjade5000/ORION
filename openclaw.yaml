# Reference config for this repo. Runtime config lives at ~/.openclaw/openclaw.json.
# This file is a human-readable template only. Do not store secrets here.
agents:
  defaults:
    model:
      # Default posture: use Google Gemini directly (no OpenRouter/OpenAI).
      # Pin a specific Gemini model for predictable instruction-following.
      primary: google/gemini-2.5-flash-lite
      fallbacks:
        - google/gemini-2.5-flash-lite
        # Optional (if configured): NVIDIA Build Kimi 2.5 as a secondary fallback.
        # - nvidia-build/moonshotai/kimi-k2-5
    # RECOMMENDED when running this repo locally:
    # workspace: /Users/corystoner/Desktop/ORION

# Optional: Custom model provider for NVIDIA Build (OpenAI-compatible).
# This is a template only; actual runtime config lives at ~/.openclaw/openclaw.json.
# Store `NVIDIA_API_KEY` in ~/.openclaw/.env (see KEEP.md), not in Git.
#
# models:
#   mode: merge
#   providers:
#     nvidia-build:
#       api: openai-completions
#       baseUrl: https://integrate.api.nvidia.com/v1
#       apiKey: "${NVIDIA_API_KEY}"
#       models:
#         - id: moonshotai/kimi-k2-5
#           name: Kimi K2.5 (NVIDIA Build)
#
# Example routing (Gemini primary, NVIDIA Build fallback):
# agents:
#   defaults:
#     model:
#       primary: google/gemini-2.5-flash-lite
#       fallbacks:
#         - nvidia-build/moonshotai/kimi-k2-5

channels:
  telegram:
    enabled: true
    capabilities:
      # Needed for /miniapp (web_app inline keyboard button).
      inlineButtons: allowlist
    commands:
      # Disable Telegram bot command registration to avoid "BOT_COMMANDS_TOO_MUCH"
      # while the repo is still iterating on skill naming.
      native: false
      nativeSkills: false
    # Token file contains only the raw bot token + trailing newline.
    # Keep secrets out of Git (see KEEP.md).
    tokenFile: ~/.openclaw/secrets/telegram.token
    # For local single-user use, prefer allowlist for predictable DM behavior.
    dmPolicy: allowlist
    allowFrom:
      - "<CORY_TELEGRAM_USER_ID>"
    groupPolicy: allowlist
    groupAllowFrom:
      - "<CORY_TELEGRAM_USER_ID>"
    groups:
      "<TELEGRAM_GROUP_ID>": {}
    reactionLevel: ack
    streamMode: partial

  # Discord channel (OpenClaw bundled plugin: `discord`, disabled by default).
  # Notes:
  # - Prefer storing DISCORD_BOT_TOKEN in ~/.openclaw/.env (see KEEP.md) and referencing it via ${...}.
  # - Lock down access with dm.policy allowlist/pairing and guild/channel allowlists.
  discord:
    enabled: false
    # Bot token (recommended via env var interpolation; do not commit secrets).
    token: "${DISCORD_BOT_TOKEN}"
    # Native commands (slash commands) support is available; "auto" lets OpenClaw decide.
    commands:
      native: auto
      nativeSkills: auto
    # Reply-to behavior inside Discord threads/channels.
    # off = never reply-to a specific message, first = reply-to the first triggering message, all = reply-to every triggering message.
    replyToMode: first
    # DM policy (recommended: allowlist or pairing).
    dm:
      policy: allowlist
      allowFrom:
        - "<CORY_DISCORD_USER_ID>"
    # Guild/channel policy. Recommended: allowlist + explicit guild/channel IDs.
    groupPolicy: allowlist
    guilds:
      "<DISCORD_GUILD_ID>":
        # When true, only respond if the bot is mentioned (safer when MESSAGE_CONTENT intent is disabled/limited).
        requireMention: true
        channels:
          "<DISCORD_CHANNEL_ID>":
            allow: true
            # Auto-create a task thread for each new request in this channel.
            autoThread: true

# Optional non-secret vars (applied only when missing from the process env).
# env:
#   vars:
#     ORION_MINIAPP_URL: "https://<your-miniapp-host>"
#     FLIC_ROUTER_ENABLED: "1"
#     FLIC_VAULT_BASE_URL: "https://vault966-r2.fly.dev"
#     FLIC_BOT_USERNAME: "Flic_GatewayBot"

# Delegation note:
# ORION should delegate to specialists using OpenClaw isolated agents (preferred: sessions_spawn),
# not by granting specialists any external channel permissions.
